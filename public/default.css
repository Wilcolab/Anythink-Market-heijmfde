:root{
  --bg1: #0f1724;
  --bg2: #0b3a5b;
  --card: rgba(255,255,255,0.06);
  --glass: rgba(255,255,255,0.07);
  --accent: #6EE7B7;
  --accent-2: #60A5FA;
  --muted: rgba(255,255,255,0.7);
  --btn-bg: rgba(255,255,255,0.04);
  --btn-shadow: 0 6px 18px rgba(2,6,23,0.6);
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;padding:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
body{
  min-height:100vh;
  background: linear-gradient(180deg,var(--bg1) 0%, var(--bg2) 100%);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:32px;
  color:var(--muted);
}

.container{
  width:100%;
  max-width:420px;
  padding:28px;
  border-radius:18px;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  box-shadow: 0 10px 40px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
  backdrop-filter: blur(8px) saturate(120%);
}

.calculator{
  width:100%;
}

#results{display:flex;justify-content:flex-end}

#result{
  width:100%;
  height:86px;
  border-radius:14px;
  background: linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.3));
  color: #fff;
  display:flex;
  align-items:flex-end;
  justify-content:flex-end;
  padding:16px 18px;
  font-size:36px;
  font-weight:600;
  letter-spacing:0.5px;
  box-shadow: 0 6px 18px rgba(2,6,23,0.6), inset 0 -6px 20px rgba(255,255,255,0.02);
}

.box{margin-top:18px}

.calculator-buttons{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap:12px;
  margin-top:8px;
}

.btn{
  height:64px;
  border-radius:12px;
  border: none;
  background: var(--btn-bg);
  color:var(--muted);
  font-size:20px;
  font-weight:600;
  box-shadow: var(--btn-shadow);
  transition: transform .08s ease, box-shadow .12s ease, background .12s ease;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}

.btn:active{transform: translateY(2px); box-shadow: 0 4px 10px rgba(2,6,23,0.5)}

.btn.operator{ background: linear-gradient(180deg,var(--accent) 0%, var(--accent-2) 100%); color:#042028 }
.btn.equal{ background: linear-gradient(180deg,#f97316,#fb923c); color:white }
.btn.span-2{grid-column: span 2}

.btn:hover{ filter:brightness(1.05) }

@media (max-width:420px){
  #result{height:76px;font-size:30px}
  .btn{height:56px;font-size:18px}
}

/* keep legacy digit sprites accessible but hidden when not used */
.resultchar{display:none}

.memory-row{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:12px}
.memory-row .btn{height:46px;font-size:15px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:10px}

.history{margin-top:18px;background:var(--glass);padding:12px;border-radius:12px;max-height:180px;overflow:auto}
.history-header{color:var(--muted);font-weight:600;margin-bottom:8px}
#historyList{list-style:none;padding:0;margin:0}
#historyList li{padding:8px;border-radius:8px;margin-bottom:8px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);cursor:pointer;color:#e6f9f0}
#historyList li:hover{background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01))}
#historyList li .expr{display:block;font-size:13px;opacity:.9}
#historyList li .res{font-weight:700;font-size:16px;color:var(--accent);margin-top:4px}

